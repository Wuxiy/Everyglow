### 关于JVM JDK和JRE最详细通俗的解答
##### JVM

Java虚拟机（jvm）是运行Java字节码的虚拟机。JVM有针对不同系统的特定实现，目的是使用相同的字节码，它们都会给出相同的结果。

什么是字节码？采用字节码的好处是什么？

    在Java中，JVM可以理解的代码就叫做字节码,(即扩展名为.class的文件)，它不面向任何特定的处理器，只面向虚拟机。Java语言通过字节码的方式，在一定程度上解决了传统解释型语言执行效率低的问题，同时又保留了解释型语言可移植的特点。所以Java程序运行时比较高效，而且，由于字节码并不针对一种特定的及其，因此，Java程序无需重新编译便可在多种不同操作系统的计算机上运行。
    
Java程序从源代码到运行一般有下面三步：

![](images/20191113230355.png)

我们需要格外注意的是.class->机器码 这一步。在这一步JVM类加载器首先加载字节码文件，然后通过解释器诸逐行解释执行，这种方式的执行速度会相对比较慢。而且，有些方法和代码块是需要经常被调用的(也就是所谓的热点代码)，所以后面引进了JIT编译器，而JIT属于运行时编译。当JIT编译器完成第一次编译后，其会将字节码对应的机器码保存下来，下次可以直接使用。而我们知道，机器码的运行效率肯定是高于java解释器的。这也解释了我们为什么经常会说Java是编译和解释共存的语言。

    HotSPot采用了惰性评估（Lazy Evluation）的做法，根据二八定律，消耗大部分系统资源的只有那一小部分的代码（热点代码），而这就是JIT所需要编译的部分。JVM会根据代码每次被执行情况手机信息并相应地做出一些优化，因此执行的次数越多，他的速度就越快。JDK 9 引入了一种新的编译模式AOT（Ahead of TIme Compilation），它是直接将字节码编译成机器码，这样避免了JIT预热等各方面的开销。JDK支持分层编译和AOT协作使用。但是，AOT编译器的编译质量是肯定比不上JIT编译器的。
    
    总结：
    